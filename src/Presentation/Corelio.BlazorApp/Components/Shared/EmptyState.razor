@using Corelio.BlazorApp.Resources
@using Microsoft.Extensions.Localization
@inject IStringLocalizer<SharedResource> L

<div class="empty-state">
    <div class="empty-state-icon-container">
        <MudIcon Icon="@Icon" Size="Size.Large" Class="empty-state-icon" />
    </div>
    <MudText Typo="Typo.h6" Class="empty-state-title">@Title</MudText>
    <MudText Typo="Typo.body2" Color="Color.Secondary" Class="empty-state-description">@Description</MudText>
    @if (!string.IsNullOrEmpty(ActionText) && OnAction.HasDelegate)
    {
        <MudButton Variant="Variant.Filled"
                   Color="Color.Primary"
                   StartIcon="@ActionIcon"
                   OnClick="HandleAction"
                   Class="empty-state-action">
            @ActionText
        </MudButton>
    }
</div>

@code {
    /// <summary>
    /// The icon to display (required). Use Material Icons (e.g., Icons.Material.Filled.Inventory).
    /// </summary>
    [Parameter, EditorRequired]
    public string Icon { get; set; } = string.Empty;

    /// <summary>
    /// The title text (required).
    /// </summary>
    [Parameter, EditorRequired]
    public string Title { get; set; } = string.Empty;

    /// <summary>
    /// The description text (required).
    /// </summary>
    [Parameter, EditorRequired]
    public string Description { get; set; } = string.Empty;

    /// <summary>
    /// Optional action button text.
    /// </summary>
    [Parameter]
    public string? ActionText { get; set; }

    /// <summary>
    /// Optional action button icon.
    /// </summary>
    [Parameter]
    public string? ActionIcon { get; set; }

    /// <summary>
    /// Callback when the action button is clicked.
    /// </summary>
    [Parameter]
    public EventCallback OnAction { get; set; }

    private async Task HandleAction()
    {
        if (OnAction.HasDelegate)
        {
            await OnAction.InvokeAsync();
        }
    }
}
